import{G as h,H as _,I as D,J as O,K as U,M as y,N as H,O as Y,Q as F,R as I,T as g,U as N,V as A,W as L,X as M,Y as Z,Z as $,_ as E,A as k,$ as q,a0 as w,h as z,z as C}from"./D_nMX8iu.js";function J(e,a,[n,s]=[0,0]){_&&n===0&&D();var u=e,t=null,f=null,r=L,R=n>0?O:0,c=!1;const S=(o,i=!0)=>{c=!0,v(i,o)},v=(o,i)=>{if(r===(r=o))return;let T=!1;if(_&&s!==-1){if(n===0){const b=U(u);b===y?s=0:b===H?s=1/0:(s=parseInt(b.substring(1)),s!==s&&(s=r?1/0:-1))}const m=s>n;!!r===m&&(u=Y(),F(u),I(!1),T=!0,s=-1)}r?(t?g(t):i&&(t=N(()=>i(u))),f&&A(f,()=>{f=null})):(f?g(f):i&&(f=N(()=>i(u,[n+1,s]))),t&&A(t,()=>{t=null})),T&&I(!0)};h(()=>{c=!1,a(S),c||v(null,null)},R),_&&(u=M)}let l=!1,p=Symbol();function K(e,a,n){const s=n[a]??(n[a]={store:null,source:k(void 0),unsubscribe:E});if(s.store!==e&&!(p in n))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=E;else{var u=!0;s.unsubscribe=q(e,t=>{u?s.source.v=t:C(s.source,t)}),u=!1}return e&&p in n?w(e):z(s.source)}function P(e,a){return e.set(a),a}function Q(){const e={};function a(){Z(()=>{for(var n in e)e[n].unsubscribe();$(e,p,{enumerable:!1,value:!0})})}return[e,a]}function V(e){var a=l;try{return l=!1,[e(),l]}finally{l=a}}export{P as a,K as b,V as c,J as i,Q as s};
